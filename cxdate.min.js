/*!
 * cxDate 1.0
 * http://code.ciaoca.com/
 * https://github.com/ciaoca/cxDate
 * E-mail: ciaoca@gmail.com
 * Released under the MIT license
 * Date: 2014-03-25
 *
 * @param	{string}		style	格式化的样式
 * @param	{string|int}	time	需要格式化的时间
 */
!function(a){var c=function(){return c.decode.apply(c,arguments)};c.DEFAULTS={language:{monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthName:["January","February","March","April","May","June","July","August","September","October","November","December"],weekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekName:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],amName:["am","pm"],AMName:["AM","PM"]}},c.getLanguage=function(){var a,b;return"object"==typeof cxDateLanguages?(b=cxDateLanguages,"string"==typeof navigator.language?a=navigator.language.toLowerCase():"string"==typeof navigator.browserLanguage&&(a=navigator.browserLanguage.toLowerCase()),a="string"==typeof a&&"object"==typeof b[a]?b[a]:this.DEFAULTS.language):a=this.DEFAULTS.language,a},c.language=c.getLanguage(),c.getAttr=function(a){var b=this,c={};return c.YYYY=a.getFullYear(),c.YY=c.YYYY.toString(10).slice(-2),c.M=a.getMonth()+1,c.MM=c.M<10?"0"+c.M:c.M,c.MMM=function(a){return b.language.monthAbbr[a]},c.MMMM=function(a){return b.language.monthName[a]},c.D=a.getDate(),c.DD=c.D<10?"0"+c.D:c.D,c.d=a.getDay(),c.dd=c.d+1,c.ddd=function(a){return b.language.weekAbbr[a]},c.dddd=function(a){return b.language.weekName[a]},c.H=a.getHours(),c.HH=c.H<10?"0"+c.H:c.H,c.h=c.H>12?c.H-12:c.H,c.hh=c.h<10?"0"+c.h:c.h,c.m=a.getMinutes(),c.mm=c.m<10?"0"+c.m:c.m,c.s=a.getSeconds(),c.ss=c.s<10?"0"+c.s:c.s,c.H>12?(c.A=this.language.AMName[1],c.a=this.language.amName[1]):(c.A=this.language.AMName[0],c.a=this.language.amName[0]),c},c.format=function(a,b){var c=b,d="{;}",e="{;;}",f="{.}",g="{..}";return c=c.replace(/YYYY/g,a.YYYY),c=c.replace(/YY/g,a.YY),c=c.replace(/MMMM/g,e),c=c.replace(/MMM/g,d),c=c.replace(/MM/g,a.MM),c=c.replace(/M/g,a.M),c=c.replace(/DD/g,a.DD),c=c.replace(/D/g,a.D),c=c.replace(/dddd/g,g),c=c.replace(/ddd/g,f),c=c.replace(/dd/g,a.dd),c=c.replace(/d/g,a.d),c=c.replace(/HH/g,a.HH),c=c.replace(/H/g,a.H),c=c.replace(/hh/g,a.hh),c=c.replace(/h/g,a.h),c=c.replace(/mm/g,a.mm),c=c.replace(/m/g,a.m),c=c.replace(/ss/g,a.ss),c=c.replace(/s/g,a.s),c=c.replace(/A/g,a.A),c=c.replace(/a/g,a.a),c=c.replace(new RegExp(e,"g"),a.MMMM(a.M)),c=c.replace(new RegExp(d,"g"),a.MMM(a.M)),c=c.replace(new RegExp(g,"g"),a.dddd(a.d)),c=c.replace(new RegExp(f,"g"),a.ddd(a.d))},c.decode=function(a,b){var c,d;return"string"!=typeof a?!1:("string"==typeof b?(b=b.replace(/[\.-]/g,"/"),b=Date.parse(b)):"number"==typeof b?b=parseInt(b,10):(b=new Date,b=b.getTime()),isNaN(b)?!1:(c=new Date,c.setTime(b),isNaN(c.getFullYear())?!1:(d=this.getAttr(c),text=this.format(d,a))))},a.cxDate=c}(window);