/*!
 * cxDate
 * 
 * @version 1.1
 * @author ciaoca
 * @email ciaoca@gmail.com
 * @site https://github.com/ciaoca/cxDate
 * @license Released under the MIT license
 */
!function(a){var d,c={language:{monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthName:["January","February","March","April","May","June","July","August","September","October","November","December"],weekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekName:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],amName:["am","pm"],AMName:["AM","PM"]},reg:{isYear:/^\d{4}$/,isTime:/^\d{1,2}(\:\d{1,2}){1,2}$/},isDateObject:function(a){return"[object Date]"===Object.prototype.toString.call(a)&&"function"==typeof a.getTime&&!isNaN(a.getTime())}};c.fillLeadZero=function(a,b){var c=String(a);return c.length<b&&(c=Array(b-c.length).fill(0).join("")+a),c},c.parseDate=function(a){var d,b=this,c=new Date;return b.reg.isYear.test(a)?c.setFullYear(parseInt(a,10)):/^\d+$/.test(a)||"number"==typeof a&&isFinite(a)?c.setTime(parseInt(a,10)):"string"==typeof a&&(b.reg.isTime.test(a)?(d=a.split(":"),2===d.length&&d.push(0),c.setHours(d[0],d[1],d[2])):c=new Date(a)),(!b.isDateObject(c)||isNaN(c.getTime()))&&(c=new Date),c},c.getWeekNum=function(a){var b=this,c=a.getTime(),d=new Date(a.getFullYear(),0,1,0,0,0,0),e=d.getTime(),f=d.getDay(),g=0;return 0===f&&(f=7),e+=f>4?864e5*(8-f):864e5*(1-f),e>c?g=b.getWeekNum(new Date(a.getFullYear()-1,11,31)):(g=Math.floor((c-e)/864e5)+1,g=Math.ceil(g/7)),g},c.getAttr=function(a){var e,f,b=this,c={},d=a.getTime();return c.YYYY=a.getFullYear(),c.YY=String(c.YYYY).slice(-2),e=new Date(c.YYYY,0,1,0,0,0,0),f=e.getTime(),c.M=a.getMonth(),c.MMM=b.language.monthAbbr[c.M],c.MMMM=b.language.monthName[c.M],c.M+=1,c.MM=b.fillLeadZero(c.M,2),c.D=a.getDate(),c.DD=b.fillLeadZero(c.D,2),c.DDD=Math.floor((d-f)/864e5)+1,c.DDDD=b.fillLeadZero(c.DDD,3),c.d=a.getDay(),c.ddd=b.language.weekAbbr[c.d],c.dddd=b.language.weekName[c.d],c.w=b.getWeekNum(a),c.ww=b.fillLeadZero(c.w,2),c.H=a.getHours(),c.HH=b.fillLeadZero(c.H,2),c.h=c.H>12?c.H-12:c.H,c.hh=b.fillLeadZero(c.h,2),c.m=a.getMinutes(),c.mm=b.fillLeadZero(c.m,2),c.s=a.getSeconds(),c.ss=b.fillLeadZero(c.s,2),c.H>12?(c.A=b.language.AMName[1],c.a=b.language.amName[1]):(c.A=b.language.AMName[0],c.a=b.language.amName[0]),c},c.format=function(a,b){var f,c=b,d=["YYYY","YY","MMMM","MMM","MM","M","DDDD","DDD","DD","D","dddd","ddd","d","ww","w","HH","H","hh","h","mm","m","ss","s","A","a"],e=new RegExp("("+d.join("|")+")","g");for(c=c.replace(/([\{\}])/g,"\\$1"),c=c.replace(e,function(a,b){return"{{"+b+"}}"}),c=c.replace(/\\\{\{(.)\}\}/g,"$1"),f=d.length-1;f>=0;f--)c=c.replace(new RegExp("{{"+d[f]+"}}","g"),a[d[f]]);return c=c.replace(/\\(.)/g,"$1")},c.decode=function(a,b){var d,e,c=this;return"string"!=typeof a?(console.warn("[cxDate] Missing parameters."),!1):(b=c.parseDate(b),d=c.getAttr(b),e=c.format(d,a))},d=function(){return c.decode.apply(c,arguments)},d.setLanguage=function(a){Object.assign(c.language,a)},a.cxDate=d}(window);